This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
package.json
src/constants.js
src/packetTypes.js
src/utils.js
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="package.json">
{
  "name": "shared",
  "version": "1.0.0",
  "type": "module",
  "main": "src/constants.js",
  "exports": {
    "./constants": "./src/constants.js",
    "./packetTypes": "./src/packetTypes.js",
    "./utils": "./src/utils.js"
  }
}
</file>

<file path="src/constants.js">
export const MAP_SIZE = 5000;

export const PLAYER_RADIUS = 20;
export const PLAYER_SPEED = 300; 
export const PLAYER_MAX_HEALTH = 100;

export const TICK_RATE = 60; 
export const INTERPOLATION_DELAY = 100; 

export const FOOD_COUNT = 300; 
export const FOOD_RADIUS = 5; 
export const XP_PER_FOOD = 10; 

export const REGEN_DELAY = 3000; 
export const REGEN_RATE = 10; 

export const DASH_DURATION = 200; 
export const DASH_COOLDOWN = 3000; 
export const DASH_MULTIPLIER = 3; 

export const OBSTACLE_COUNT = 50;  
export const OBSTACLE_RADIUS_MIN = 30; 
export const OBSTACLE_RADIUS_MAX = 80;

export const CHEST_COUNT = 15;
export const CHEST_RADIUS = 25;
export const CHEST_HP = 50;

export const ITEM_TYPES = {
  HEALTH_PACK: 'HEALTH_PACK',
  SHIELD: 'SHIELD',
  SPEED: 'SPEED',
  WEAPON_PISTOL: 'WEAPON_PISTOL',
  WEAPON_ROCKET: 'WEAPON_ROCKET',
  WEAPON_SHOTGUN: 'WEAPON_SHOTGUN',
  WEAPON_MACHINEGUN: 'WEAPON_MACHINEGUN',
  WEAPON_SNIPER: 'WEAPON_SNIPER' // Th√™m Sniper
};

export const ITEM_RADIUS = 15;

// üî´ C·∫¨P NH·∫¨T H·ªÜ TH·ªêNG V≈® KH√ç
export const WEAPON_STATS = {
  PISTOL: {
    cooldown: 400,        // B·∫Øn m·ªói 0.4s
    damage: 15,
    speed: 600,           // T·ªëc ƒë·ªô ƒë·∫°n trung b√¨nh
    range: 400,           // T·∫ßm b·∫Øn trung b√¨nh
    count: 1,
    spread: 0,
    radius: 6,            // K√≠ch th∆∞·ªõc ƒë·∫°n trung b√¨nh
    color: 0xFFFF00,
    requireStill: false   // Kh√¥ng c·∫ßn ƒë·ª©ng y√™n
  },
  
  ROCKET: {
    cooldown: 1200,       // B·∫Øn ch·∫≠m (1.2s)
    damage: 30,           // Dame m·ªói m·∫£nh v·ª•n
    speed: 350,           // T·ªëc ƒë·ªô ch·∫≠m
    range: 500,           // T·∫ßm xa
    count: 1,
    spread: 0,
    radius: 10,           // ƒê·∫°n to
    color: 0xFF4400,
    requireStill: true,
    // Explosion properties
    explosionRadius: 120, // Ph·∫°m vi n·ªï
    shrapnelCount: 12,    // S·ªë m·∫£nh v·ª•n
    shrapnelDamage: 30    // Dame m·ªói m·∫£nh
  },
  
  SHOTGUN: {
    cooldown: 800,        // B·∫Øn ch·∫≠m
    damage: 12,
    speed: 550,           // T·ªëc ƒë·ªô ch·∫≠m
    range: 250,           // T·∫ßm g·∫ßn
    count: 6,             // B·∫Øn 6 vi√™n
    spread: 0.4,          // T√°n r·ªông
    radius: 5,
    color: 0xFFA500,
    requireStill: false
  },
  
  MACHINEGUN: {
    cooldown: 100,        // B·∫Øn c·ª±c nhanh
    damage: 8,
    speed: 700,           // T·ªëc ƒë·ªô nhanh
    range: 350,           // T·∫ßm trung b√¨nh
    count: 1,
    spread: 0.15,         // H∆°i rung
    radius: 4,            // ƒê·∫°n nh·ªè
    color: 0xFFFFAA,
    requireStill: false
  },
  
  SNIPER: {
    cooldown: 1500,       // B·∫Øn r·∫•t ch·∫≠m
    damage: 60,           // Dame c·ª±c cao
    speed: 1200,          // C·ª±c nhanh
    range: 600,           // T·∫ßm c·ª±c xa
    count: 1,
    spread: 0,            // Kh√¥ng rung
    radius: 4,            // ƒê·∫°n nh·ªè
    color: 0x00FFFF,
    requireStill: true    // PH·∫¢I ƒê·ª®NG Y√äN
  }
};

export const ENTITY_TYPES = {
  PLAYER: 'player',
  PROJECTILE: 'projectile',
  EXPLOSION: 'explosion', // Th√™m explosion type
  FOOD: 'food'
};
</file>

<file path="src/packetTypes.js">
export const PacketType = {
  // Client -> Server
  JOIN: 'join',
  INPUT: 'input',
  ATTACK: 'attack',
  CHAT: 'chat',
  RESPAWN: 'respawn',
  
  // Server -> Client
  INIT: 'init',
  UPDATE: 'update',
  PLAYER_JOIN: 'player_join',
  PLAYER_LEAVE: 'player_leave',
  PLAYER_DIED: 'player_died',
  LEADERBOARD: 'leaderboard',
  PING: 'ping',
  PONG: 'pong'
};
</file>

<file path="src/utils.js">
export function distance(x1, y1, x2, y2) {
  const dx = x2 - x1;
  const dy = y2 - y1;
  return Math.sqrt(dx * dx + dy * dy);
}

export function clamp(value, min, max) {
  return Math.max(min, Math.min(max, value));
}

export function lerp(start, end, t) {
  return start + (end - start) * t;
}

export function circleCollision(x1, y1, r1, x2, y2, r2) {
  return distance(x1, y1, x2, y2) < r1 + r2;
}

export function normalizeAngle(angle) {
  while (angle > Math.PI) angle -= 2 * Math.PI;
  while (angle < -Math.PI) angle += 2 * Math.PI;
  return angle;
}

export function getRandomPosition(mapSize) {
  return {
    x: Math.random() * mapSize - mapSize / 2,
    y: Math.random() * mapSize - mapSize / 2
  };
}
</file>

</files>
